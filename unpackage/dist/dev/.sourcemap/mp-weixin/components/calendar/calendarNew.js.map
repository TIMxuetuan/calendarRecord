{"version":3,"sources":["webpack:///E:/xiangMu/ceshi/日历app/calendarRecord/components/calendar/calendarNew.vue?33fe","webpack:///E:/xiangMu/ceshi/日历app/calendarRecord/components/calendar/calendarNew.vue?9694","webpack:///E:/xiangMu/ceshi/日历app/calendarRecord/components/calendar/calendarNew.vue?456c","webpack:///E:/xiangMu/ceshi/日历app/calendarRecord/components/calendar/calendarNew.vue?8771","uni-app:///components/calendar/calendarNew.vue","webpack:///E:/xiangMu/ceshi/日历app/calendarRecord/components/calendar/calendarNew.vue?c08a","webpack:///E:/xiangMu/ceshi/日历app/calendarRecord/components/calendar/calendarNew.vue?4f1c"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AAC8K;AAC9K,gBAAgB,6KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sMAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA+pB,CAAgB,qnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0CnrB;AACA,+F;AACA;AACA;AACA;AACA,kBADA;AAEA;AACA,uCAHA,EADA;;AAMA;AACA,kBADA;AAEA;AACA,wCAHA,EANA;;AAWA;AACA,4BADA;AAEA,iBAFA,EAXA;;AAeA;AACA,iBADA;AAEA,iBAFA,EAfA;;;AAoBA;AACA,iBADA,EApBA,EADA;;;;AA0BA,MA1BA,kBA0BA;AACA;AACA,oBADA;AAEA,sBAFA;AAGA,yBAHA,EAGA;AACA,gBAJA,EAIA;AACA,qBALA;AAMA,sBANA;AAOA,iBAPA;AAQA,4BARA,EAQA;AACA,wBATA,EASA;AACA,gBAVA,EAUA;AACA,sBAXA,EAWA;AACA,mBAZA,EAYA;AACA,kBAbA,EAaA;AACA,sBAdA;AAeA,uBAfA;AAgBA,mBAhBA;AAiBA,uBAjBA,CAiBA;AAjBA;AAmBA,GA9CA;AA+CA;AACA;AACA,aADA,mBACA,GADA,EACA,MADA,EACA;AACA;AACA;AACA;AACA,OALA;AAMA,gBANA,EADA;;AASA;AACA,aADA,mBACA,GADA,EACA,MADA,EACA;AACA;AACA;AACA;AACA,OALA;AAMA,gBANA,EATA;;AAiBA;AACA,aADA,mBACA,GADA,EACA,MADA,EACA;AACA;AACA;AACA;AACA,OALA;AAMA,gBANA,EAjBA;;AAyBA;AACA,aADA,mBACA,GADA,EACA,MADA,EACA;AACA;AACA;AACA,OAJA;AAKA,gBALA,EAzBA,EA/CA;;;AAgFA,SAhFA,qBAgFA;;AAEA,GAlFA;AAmFA,SAnFA,qBAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GA5FA;AA6FA;AACA,mBADA;;AAGA;AACA,YAJA,sBAIA;AACA;AACA;AACA;AACA,mCAJA;AAKA,qBALA,aAKA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA,SAbA;AAcA;AACA;AACA,KApBA;;;AAuBA;AACA,WAxBA,mBAwBA,KAxBA,EAwBA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA,4BAFA;AAGA,uBAHA,cAGA;AACA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA;AACA;AACA,WAXA;AAYA;AACA;AACA;AACA;AACA,KA7CA;;AA+CA;AACA,SAhDA,iBAgDA,CAhDA,EAgDA;AACA;AACA;AACA,KAnDA;;AAqDA;AACA,OAtDA,eAsDA,CAtDA,EAsDA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA,KAvEA;;AAyEA;AACA,cA1EA,sBA0EA,IA1EA,EA0EA,KA1EA,EA0EA;AACA;AACA;AACA;AACA,KA9EA;AA+EA;AACA,oBAhFA,4BAgFA,IAhFA,EAgFA,KAhFA,EAgFA;AACA;AACA,KAlFA;AAmFA;AACA,YApFA,oBAoFA,IApFA,EAoFA,KApFA,EAoFA;AACA;AACA;AACA,sBADA;AAEA,mBAFA;;AAIA,OALA,MAKA;AACA;AACA,oBADA;AAEA,wBAFA;;AAIA;AACA,KAhGA;AAiGA;AACA,aAlGA,qBAkGA,IAlGA,EAkGA,KAlGA,EAkGA;AACA;AACA;AACA,sBADA;AAEA,kBAFA;;AAIA,OALA,MAKA;AACA;AACA,oBADA;AAEA,wBAFA;;AAIA;AACA,KA9GA;AA+GA;AACA,iBAhHA,yBAgHA,WAhHA,EAgHA,YAhHA,EAgHA;AACA,2EADA,CACA;AACA,mCAFA,CAEA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,4BADA,EACA;AACA,oCAFA;AAGA,sCAHA;AAIA,sBAJA;AAKA;AACA,eADA,GACA,IANA;;;AASA;AACA;AACA;AACA;AACA,KAvIA;AAwIA;AACA,aAzIA,qBAyIA,WAzIA,EAyIA,YAzIA,EAyIA;AACA,iFADA,CACA;AACA,+BAFA,CAEA;AACA;;;;AAIA,gDAJA,CAEA,IAFA,kBAEA,IAFA,CAGA,KAHA,kBAGA,KAHA,EAIA;AACA,gDALA,CAKA;AACA;AACA;AACA,wBADA,EACA;AACA,6BAFA;AAGA,+BAHA;AAIA,sBAJA;AAKA,gFALA;;AAOA;AACA;AACA;AACA;AACA;AACA,KA/JA;AAgKA;AACA,cAjKA,sBAiKA,WAjKA,EAiKA,YAjKA,EAiKA;AACA,kFADA,CACA;AACA,gCAFA,CAEA;AACA;;;;AAIA,iDAJA,CAEA,IAFA,mBAEA,IAFA,CAGA,KAHA,mBAGA,KAHA,EAIA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,yBADA,EACA;AACA,6BAFA;AAGA,+BAHA;AAIA,sBAJA;AAKA,gFALA;;AAOA;AACA;AACA;AACA,KAzLA;AA0LA;AACA,aA3LA,qBA2LA,WA3LA,EA2LA,YA3LA,EA2LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA,yBAfA;AAgBA,YAhBA,cAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA,SAhCA;AAiCA;AACA;AACA,gCADA;AAEA,kCAFA;AAGA,8CAHA;AAIA,sCAJA;;AAMA;AACA;AACA;AACA,KAtOA;;AAwOA;AACA,aAzOA,qBAyOA,MAzOA,EAyOA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAjQA;;AAmQA,aAnQA,uBAmQA;AACA;AACA;AACA,KAtQA;;AAwQA;AACA,gBAzQA,0BAyQA;;;;AAIA,wDAJA,CAEA,IAFA,mBAEA,IAFA,CAGA,KAHA,mBAGA,KAHA;AAKA;AACA;AACA;AACA;AACA,KAlRA;AAmRA;AACA,iBApRA,2BAoRA;;;;AAIA,yDAJA,CAEA,IAFA,oBAEA,IAFA,CAGA,KAHA,oBAGA,KAHA;;AAMA;AACA;AACA;AACA;AACA,KA9RA;;;;AAkSA;AACA,gBAnSA,wBAmSA,KAnSA,EAmSA;AACA;AACA,KArSA,GA7FA,E;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAwuC,CAAgB,ulCAAG,EAAC,C;;;;;;;;;;;ACA5vC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/calendar/calendarNew.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./calendarNew.vue?vue&type=template&id=3db7076c&scoped=true&\"\nvar renderjs\nimport script from \"./calendarNew.vue?vue&type=script&lang=js&\"\nexport * from \"./calendarNew.vue?vue&type=script&lang=js&\"\nimport style0 from \"./calendarNew.vue?vue&type=style&index=0&id=3db7076c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3db7076c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/calendar/calendarNew.vue\"\nexport default component.exports","export * from \"-!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calendarNew.vue?vue&type=template&id=3db7076c&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calendarNew.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calendarNew.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"height:100%\">\r\n\t\t<view class=\"calendar\">\r\n\t\t\t<!-- <view class='tit'>\r\n\t\t\t\t<view class='pre leftRight' @click='gotoPreMonth'>《</view>\r\n\t\t\t\t<view class='current'>{{currentYear}} / {{ currentMonth < 10 ? '0' + currentMonth : currentMonth }}</view>\r\n\t\t\t\t<view class='next leftRight' @click='gotoNextMonth'>》</view>\r\n\t\t\t</view> -->\r\n\t\t\t<view class='content'>\r\n\t\t\t\t<view>一</view>\r\n\t\t\t\t<view>二</view>\r\n\t\t\t\t<view>三</view>\r\n\t\t\t\t<view>四</view>\r\n\t\t\t\t<view>五</view>\r\n\t\t\t\t<view>六</view>\r\n\t\t\t\t<view>日</view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"height:100%\" @touchstart=\"start\" @touchend=\"end\">\r\n\t\t\t\t<view class='daysItem'>\r\n\t\t\t\t\t<view @click=\"daysAdd(items)\" v-for=\"(items,index) in timeList.allArr\" :key=\"index\"\r\n\t\t\t\t\t\tclass=\"daysItem-li\"\r\n\t\t\t\t\t\t:class=\"items.month != 'current' ? 'noCurrent' : (items.isOpen == true ? 'nowZiDate' :'') \">\r\n\t\t\t\t\t\t<view class=\"item-date\" :class=\"items.ziDate == nowTimeNew ? 'nowZiDate-text' :''\">\r\n\t\t\t\t\t\t\t{{items.date}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"lastAll\">\r\n\t\t\t\t\t\t\t<view class=\"lastAll-item\" v-for=\"(last,indexs) in items.lastAllItem\" :key=\"indexs\">\r\n\t\t\t\t\t\t\t\t<view class=\"lastItem-icon\">\r\n\t\t\t\t\t\t\t\t\t<u-icon :name=\"last.tra_icons\"\r\n\t\t\t\t\t\t\t\t\t\t:color=\"last.tra_color\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"lastItem-text\">{{last.jl_num}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport allApi from '../../utils/api_methods.js'\r\n\timport products from \"../../utils/products.js\"\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tcurrentYear2: { // 当前显示的年\r\n\t\t\t\ttype: Number,\r\n\t\t\t\t// default: 0\r\n\t\t\t\tdefault: new Date().getFullYear()\r\n\t\t\t},\r\n\t\t\tcurrentMonth2: { // // 当前显示的月\r\n\t\t\t\ttype: Number,\r\n\t\t\t\t// default: 0\r\n\t\t\t\tdefault: new Date().getMonth() + 1\r\n\t\t\t},\r\n\t\t\tnowTime2: {\r\n\t\t\t\ttype: [String, Number],\r\n\t\t\t\tdefault: \"\"\r\n\t\t\t},\r\n\t\t\tsignLists: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: []\r\n\t\t\t},\r\n\r\n\t\t\tlastAllLists: { //记录的数组\r\n\t\t\t\ttype: Array\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tnowTimeNew:\"\",\r\n\t\t\t\tswiperHeight: \"\",\r\n\t\t\t\tswiperDuration: 100, // 值为0禁止切换动画\r\n\t\t\t\tcurrent: 0, //初始显示页下标\r\n\t\t\t\tcurrentYear: \"\",\r\n\t\t\t\tcurrentMonth: \"\",\r\n\t\t\t\tnowTime: \"\",\r\n\t\t\t\tcurrentMonthDateLen: 0, // 当月天数\r\n\t\t\t\tpreMonthDateLen: 0, // 当月中，上月多余天数\r\n\t\t\t\tallArr: [], // 当月所有数据\r\n\t\t\t\tquestionList: [], //所有的月份数据\r\n\t\t\t\tthreeTime: [], //页面展示的三个月份数据\r\n\t\t\t\ttimeList: {}, //当前的临时数据\r\n\t\t\t\tpreYearMonth: {},\r\n\t\t\t\tnextYearMonth: {},\r\n\t\t\t\tstartData: {},\r\n\t\t\t\tlastAllLists2: [], //某月的记录数据\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcurrentYear2: {\r\n\t\t\t\thandler(val, oldVal) {\r\n\t\t\t\t\t//console.log(\"currentYear2 \",val, oldVal);\r\n\t\t\t\t\tthis.currentYear = val;\r\n\t\t\t\t\t// this.editTime()\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t},\r\n\t\t\tcurrentMonth2: {\r\n\t\t\t\thandler(val, oldVal) {\r\n\t\t\t\t\t//console.log(\"currentMonth2 \",val, oldVal);\r\n\t\t\t\t\tthis.currentMonth = val;\r\n\t\t\t\t\t// this.editTime()\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t},\r\n\t\t\tnowTime2: {\r\n\t\t\t\thandler(val, oldVal) {\r\n\t\t\t\t\t//console.log(\"nowTime \",val, oldVal);\r\n\t\t\t\t\tthis.nowTime = val;\r\n\t\t\t\t\tthis.editTime()\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t},\r\n\t\t\tlastAllLists: {\r\n\t\t\t\thandler(val, oldVal) {\r\n\t\t\t\t\tthis.lastAllLists2 = val;\r\n\t\t\t\t\tthis.editTime()\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t//console.log(\"signLists\", this.signLists)\r\n\t\t\tthis.currentYear = this.currentYear2\r\n\t\t\tthis.currentMonth = this.currentMonth2\r\n\t\t\tthis.nowTime = this.nowTime2;\r\n\t\t\tthis.getAllArr(this.currentYear, this.currentMonth);\r\n\t\t\tlet nowTime = uni.getStorageSync(\"nowTime\");\r\n\t\t\tthis.nowTimeNew = nowTime;\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...products,\r\n\r\n\t\t\t//修改日期--当通过日历弹窗选择时间时，触发这个事件\r\n\t\t\teditTime() {\r\n\t\t\t\tthis.getAllArr(this.currentYear, this.currentMonth);\r\n\t\t\t\tlet items = this.nowTime\r\n\t\t\t\tconsole.log(\"修改时间\",this.timeList,items)\r\n\t\t\t\tlet allLists = this.timeList;\r\n\t\t\t\tfor (let item of allLists.allArr) {\r\n\t\t\t\t\tif (item.ziDate == items) {\r\n\t\t\t\t\t\t//console.log(\"这一条\",item)\r\n\t\t\t\t\t\titem.isOpen = true\r\n\t\t\t\t\t\tuni.setStorageSync(\"dayRecord\", item)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.isOpen = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.timeList = allLists;\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\r\n\r\n\t\t\t//点击日期获得数据\r\n\t\t\tdaysAdd(items) {\r\n\t\t\t\tconsole.log(\"items\", items)\r\n\t\t\t\tif (items.isOpen) {\r\n\t\t\t\t\t//console.log(\"已经选择了\")\r\n\t\t\t\t\tthis.$emit(\"openDayAllRecord\", items)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet allLists = this.timeList;\r\n\t\t\t\t\titems.isOpen = true\r\n\t\t\t\t\tfor (let item of allLists.allArr) {\r\n\t\t\t\t\t\tif (item.ziDate == items.ziDate) {\r\n\t\t\t\t\t\t\titem.isOpen = true\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"dayRecord\", items)\r\n\t\t\t\t\t\t\tthis.$emit(\"editNowTime\", items)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\titem.isOpen = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.timeList = allLists;\r\n\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\tconsole.log(\"this.timeList\", this.timeList)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//监听滑动开始\r\n\t\t\tstart(e) {\r\n\t\t\t\tthis.startData.clientX = e.changedTouches[0].clientX;\r\n\t\t\t\tthis.startData.clientY = e.changedTouches[0].clientY;\r\n\t\t\t},\r\n\r\n\t\t\t//监听滑动结束\r\n\t\t\tend(e) {\r\n\t\t\t\t// //console.log(e)\r\n\t\t\t\tconst subX = e.changedTouches[0].clientX - this.startData.clientX;\r\n\t\t\t\tconst subY = e.changedTouches[0].clientY - this.startData.clientY;\r\n\t\t\t\tif (subY > 50 || subY < -50) {\r\n\t\t\t\t\t// //console.log('上下滑')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (subX > 20) {\r\n\t\t\t\t\t\t//console.log('右滑看上一个月')\r\n\t\t\t\t\t\tthis.gotoPreMonth()\r\n\t\t\t\t\t} else if (subX < -20) {\r\n\t\t\t\t\t\t//console.log('左滑看下一个月')\r\n\t\t\t\t\t\tthis.gotoNextMonth()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// //console.log('无效')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 获取某年某月总共多少天\r\n\t\t\tgetDateLen(year, month) {\r\n\t\t\t\tlet actualMonth = month - 1;\r\n\t\t\t\tlet timeDistance = +new Date(year, month) - +new Date(year, actualMonth);\r\n\t\t\t\treturn timeDistance / (1000 * 60 * 60 * 24);\r\n\t\t\t},\r\n\t\t\t// 获取某月1号是周几\r\n\t\t\tgetFirstDateWeek(year, month) {\r\n\t\t\t\treturn new Date(year, month - 1, 1).getDay()\r\n\t\t\t},\r\n\t\t\t// 上月 年、月\r\n\t\t\tpreMonth(year, month) {\r\n\t\t\t\tif (month == 1) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tyear: --year,\r\n\t\t\t\t\t\tmonth: 12\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tyear: year,\r\n\t\t\t\t\t\tmonth: --month\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 下月 年、月\r\n\t\t\tnextMonth(year, month) {\r\n\t\t\t\tif (month == 12) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tyear: ++year,\r\n\t\t\t\t\t\tmonth: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tyear: year,\r\n\t\t\t\t\t\tmonth: ++month\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取当月数据，返回数组\r\n\t\t\tgetCurrentArr(currentYear, currentMonth) {\r\n\t\t\t\tlet currentMonthDateLen = this.getDateLen(currentYear, currentMonth) // 获取当月天数\r\n\t\t\t\tlet currentMonthDateArr = [] // 定义空数组\r\n\t\t\t\tif (currentMonthDateLen > 0) {\r\n\t\t\t\t\tfor (let i = 1; i <= currentMonthDateLen; i++) {\r\n\t\t\t\t\t\tif (i < 10) {\r\n\t\t\t\t\t\t\tvar newi = \"0\" + i\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar newi = i\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcurrentMonthDateArr.push({\r\n\t\t\t\t\t\t\tmonth: 'current', // 只是为了增加标识，区分上下月\r\n\t\t\t\t\t\t\tcurrentYear: currentYear,\r\n\t\t\t\t\t\t\tcurrentMonth: currentMonth,\r\n\t\t\t\t\t\t\tdate: newi,\r\n\t\t\t\t\t\t\tziDate: currentYear + \"-\" + (currentMonth < 10 ? \"0\" + currentMonth : currentMonth) +\r\n\t\t\t\t\t\t\t\t\"-\" + newi,\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.currentMonthDateLen = currentMonthDateLen\r\n\t\t\t\treturn currentMonthDateArr\r\n\t\t\t},\r\n\t\t\t// 获取当月中，上月多余数据，返回数组\r\n\t\t\tgetPreArr(currentYear, currentMonth) {\r\n\t\t\t\tlet preMonthDateLen = this.getFirstDateWeek(currentYear, currentMonth) - 1 // 当月1号是周几 == 上月残余天数）\r\n\t\t\t\tlet preMonthDateArr = [] // 定义空数组\r\n\t\t\t\tif (preMonthDateLen > 0) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tyear,\r\n\t\t\t\t\t\tmonth\r\n\t\t\t\t\t} = this.preMonth(currentYear, currentMonth) // 获取上月 年、月\r\n\t\t\t\t\tlet date = this.getDateLen(year, month) // 获取上月天数\r\n\t\t\t\t\tfor (let i = 0; i < preMonthDateLen; i++) {\r\n\t\t\t\t\t\tpreMonthDateArr.unshift({ // 尾部追加\r\n\t\t\t\t\t\t\tmonth: 'pre', // 只是为了增加标识，区分当、下月\r\n\t\t\t\t\t\t\tcurrentYear: year,\r\n\t\t\t\t\t\t\tcurrentMonth: month,\r\n\t\t\t\t\t\t\tdate: date,\r\n\t\t\t\t\t\t\tziDate: year + \"-\" + (month < 10 ? \"0\" + month : month) + \"-\" + date,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tdate--\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.preMonthDateLen = preMonthDateLen\r\n\t\t\t\treturn preMonthDateArr\r\n\t\t\t},\r\n\t\t\t// 获取当月中，下月多余数据，返回数组\r\n\t\t\tgetNextArr(currentYear, currentMonth) {\r\n\t\t\t\tlet nextMonthDateLen = 42 - this.preMonthDateLen - this.currentMonthDateLen // 下月多余天数\r\n\t\t\t\tlet nextMonthDateArr = [] // 定义空数组\r\n\t\t\t\tif (nextMonthDateLen > 0) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tyear,\r\n\t\t\t\t\t\tmonth\r\n\t\t\t\t\t} = this.nextMonth(currentYear, currentMonth) // 获取上月 年、月\r\n\t\t\t\t\tfor (let i = 1; i <= nextMonthDateLen; i++) {\r\n\t\t\t\t\t\tif (i < 10) {\r\n\t\t\t\t\t\t\tvar newi = \"0\" + i\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar newi = i\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnextMonthDateArr.push({\r\n\t\t\t\t\t\t\tmonth: 'next', // 只是为了增加标识，区分当、上月\r\n\t\t\t\t\t\t\tcurrentYear: year,\r\n\t\t\t\t\t\t\tcurrentMonth: month,\r\n\t\t\t\t\t\t\tdate: newi,\r\n\t\t\t\t\t\t\tziDate: year + \"-\" + (month < 10 ? \"0\" + month : month) + \"-\" + newi,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn nextMonthDateArr\r\n\t\t\t},\r\n\t\t\t// 整合当月所有数据\r\n\t\t\tgetAllArr(currentYear, currentMonth) {\r\n\t\t\t\tlet preArr = this.getPreArr(currentYear, currentMonth)\r\n\t\t\t\tlet currentArr = this.getCurrentArr(currentYear, currentMonth)\r\n\t\t\t\tlet nextArr = this.getNextArr(currentYear, currentMonth)\r\n\t\t\t\tlet allArr = [...preArr, ...currentArr, ...nextArr]\r\n\t\t\t\tthis.allArr = allArr\r\n\t\t\t\tif (currentMonth > 0) {\r\n\t\t\t\t\tfor (let i = 1; i <= currentMonth; i++) {\r\n\t\t\t\t\t\tif (i < 10) {\r\n\t\t\t\t\t\t\tvar newi = \"0\" + i\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar newi = i\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet newAllArr = [];\r\n\t\t\t\tfor (let item of allArr) {\r\n\t\t\t\t\titem.lastAllItem = []\r\n\t\t\t\t\tlet dayRecord = uni.getStorageSync('dayRecord');\r\n\t\t\t\t\tlet nowTimeTwo = this.nowTime\r\n\t\t\t\t\tif (dayRecord != null && dayRecord != \"\") {\r\n\t\t\t\t\t\tdayRecord = dayRecord\r\n\t\t\t\t\t\tnowTimeTwo = dayRecord.ziDate\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.ziDate == nowTimeTwo) {\r\n\t\t\t\t\t\titem.isOpen = true\r\n\t\t\t\t\t\tnewAllArr.push(item)\r\n\t\t\t\t\t\tuni.setStorageSync('dayRecord', item);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.isOpen = false;\r\n\t\t\t\t\t\tnewAllArr.push(item)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tallArr = newAllArr;\r\n\t\t\t\tlet sendObj = {\r\n\t\t\t\t\tcurrentYear: currentYear,\r\n\t\t\t\t\tcurrentMonth: currentMonth,\r\n\t\t\t\t\tyearAndMonth: newi + \"-\" + currentYear,\r\n\t\t\t\t\tallArr: this.isTimeAll(allArr)\r\n\t\t\t\t}\r\n\t\t\t\tthis.timeList = sendObj;\r\n\t\t\t\t//console.log(\"newAllArr\", newAllArr)\r\n\t\t\t\tconsole.log(\"当前月份this.timeList\",this.timeList)\r\n\t\t\t},\r\n\r\n\t\t\t//获取本地数据，与当月数据进行对比，如果有记录则将缓存数据添加整合\r\n\t\t\tisTimeAll(allArr) {\r\n\t\t\t\t// let lastAllLists = uni.getStorageSync('lastAllLists');\r\n\t\t\t\tlet lastAllLists = this.lastAllLists2;\r\n\t\t\t\t// console.log(\"all\", allArr, this.lastAllLists)\r\n\t\t\t\tif (lastAllLists != null && lastAllLists != \"\") {\r\n\t\t\t\t\tlastAllLists = lastAllLists;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlastAllLists = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (lastAllLists != '') {\r\n\t\t\t\t\tfor (var i = 0; i < lastAllLists.length; i++) {\r\n\t\t\t\t\t\tfor (var j = 0; j < allArr.length; j++) {\r\n\t\t\t\t\t\t\tlet lastAllItem = []\r\n\t\t\t\t\t\t\tif (products.cutOutTime(lastAllLists[i].rc_sj) == allArr[j].ziDate) {\r\n\t\t\t\t\t\t\t\tlastAllItem.push(lastAllLists[i])\r\n\t\t\t\t\t\t\t\tallArr[j].lastAllItem = allArr[j].lastAllItem.concat(lastAllItem)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(\"lastAllLists\", allArr)\r\n\t\t\t\treturn allArr\r\n\r\n\t\t\t},\r\n\r\n\t\t\tshuaLists() {\r\n\t\t\t\t//console.log(\"执行了\", this.currentYear, this.currentMonth, this.timeList)\r\n\t\t\t\tthis.getAllArr(this.currentYear, this.currentMonth)\r\n\t\t\t},\r\n\r\n\t\t\t// 点击 上月\r\n\t\t\tgotoPreMonth() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tyear,\r\n\t\t\t\t\tmonth\r\n\t\t\t\t} = this.preMonth(this.currentYear, this.currentMonth)\r\n\t\t\t\tthis.currentYear = year\r\n\t\t\t\tthis.currentMonth = month\r\n\t\t\t\tthis.getAllArr(this.currentYear, this.currentMonth)\r\n\t\t\t\tthis.$emit(\"gotoPreMonth\")\r\n\t\t\t},\r\n\t\t\t// 点击 下月\r\n\t\t\tgotoNextMonth() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tyear,\r\n\t\t\t\t\tmonth\r\n\t\t\t\t} = this.nextMonth(this.currentYear, this.currentMonth)\r\n\r\n\t\t\t\tthis.currentYear = year\r\n\t\t\t\tthis.currentMonth = month\r\n\t\t\t\tthis.getAllArr(this.currentYear, this.currentMonth)\r\n\t\t\t\tthis.$emit(\"gotoNextMonth\")\r\n\t\t\t},\r\n\r\n\r\n\r\n\t\t\t//滑动事件\r\n\t\t\tswiperChange(event) {\r\n\t\t\t\t//console.log(\"swiper\", event.detail)\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.calendar {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.calendar .tit {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 36rpx;\r\n\t\tcolor: #2A2A2A;\r\n\t\tpadding: 20rpx 0 0;\r\n\t}\r\n\r\n\t.calendar .tit .current {\r\n\t\tfont-size: 34rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333333;\r\n\t\tmargin: 0 40rpx;\r\n\t}\r\n\r\n\t.calendar .content {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.calendar .content view {\r\n\t\twidth: 14%;\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\ttext-align: center;\r\n\t\tflex-shrink: 0;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #B3B3B3;\r\n\t}\r\n\r\n\t.daysItem {\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.daysItem-li {\r\n\t\t\tmargin: 0 !important;\r\n\t\t\twidth: 14.28%;\r\n\t\t\tmin-width: 14.28%; // 加入这两个后每个item的宽度就生效了\r\n\t\t\tmax-width: 14.28%; // 加入这两个后每个item的宽度就生效了\r\n\t\t\theight: calc(100% / 6);\r\n\t\t\t// height: 200rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #333333;\r\n\t\t\tborder-bottom: 2rpx solid #F5F5F5;\r\n\t\t\t// font-weight: bold;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: flex-start;\r\n\t\t\tpadding: 10rpx 0 0 0;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\toverflow: hidden;\r\n\t\t}\r\n\r\n\t\t.item-date {\r\n\t\t\theight: fit-content;\r\n\t\t\tpadding: 8rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\t.noCurrent {\r\n\t\tbackground-color: #F2F2F2;\r\n\t}\r\n\r\n\t.leftRight {\r\n\t\tfont-size: 34rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t.gray {\r\n\t\tcolor: #999 !important;\r\n\t\tfont-weight: 100 !important;\r\n\t}\r\n\r\n\t.nowZiDate {\r\n\t\tbackground-color: #BBDEFB;\r\n\t}\r\n\r\n\t.nowZiDate-text {\r\n\t\tbackground-color: #2196F3;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.lastAll {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.lastAll-item {\r\n\t\twidth: 100%;\r\n\t\t// line-height: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.lastItem-icon {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 20rpx !important;\r\n\t\theight: 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\t\r\n\t}\r\n\r\n\t.lastItem-text {\r\n\t\tfont-size: 24rpx;\r\n\t\t // transform:scale(0.5);\r\n\t\tflex: 1;\r\n\t\twidth: 100%;\r\n\t\tmargin-left: 2rpx;\r\n\t\toverflow: hidden;\r\n\t\t/*超出部分隐藏*/\r\n\t\twhite-space: nowrap;\r\n\t\t/*不换行*/\r\n\t\t// text-overflow: ellipsis;\r\n\t\ttext-overflow: clip;\r\n\t\t/*超出部分文字以...显示*/\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calendarNew.vue?vue&type=style&index=0&id=3db7076c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../软件程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calendarNew.vue?vue&type=style&index=0&id=3db7076c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1619773177451\n      var cssReload = require(\"E:/软件程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}